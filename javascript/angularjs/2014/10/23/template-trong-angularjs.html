<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Template trong AngularJS | Dong Diem Thuy's Blog</title>
        
          <meta name="author" content="dongdiemthuy">
        
        <meta name="title" content="Template trong AngularJS" >
        <link rel="icon" type="image/png" href="/favicon.png">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
	<meta name="keywords" content="some, relevant, keywords, for, usage, in metatags" />


  <meta name="description" content="Template trong AngularJS, cho phép phân rã mã lệnh HTML phức tạp, hay trùng lặp của View thành những đoạn nhỏ thuận tiện cho việc chỉnh sửa cũng như phát triển. Ngoài ra, Template đóng vai trò là một trong các thành phần (cùng với Path và Controller) của khai báo Route trong AngularJS. Bài viết này sẽ giới thiệu tổng quan về các chức năng của Template trong AngularJS.
">
  <meta property="og:description" content="Template trong AngularJS, cho phép phân rã mã lệnh HTML phức tạp, hay trùng lặp của View thành những đoạn nhỏ thuận tiện cho việc chỉnh sửa cũng như phát triển. Ngoài ra, Template đóng vai trò là một trong các thành phần (cùng với Path và Controller) của khai báo Route trong AngularJS. Bài viết này sẽ giới thiệu tổng quan về các chức năng của Template trong AngularJS.
" />
  <meta name="twitter:description" content="Template trong AngularJS, cho phép phân rã mã lệnh HTML phức tạp, hay trùng lặp của View thành những đoạn nhỏ thuận tiện cho việc chỉnh sửa cũng như phát triển. Ngoài ra, Template đóng vai trò là một trong các thành phần (cùng với Path và Controller) của khai báo Route trong AngularJS. Bài viết này sẽ giới thiệu tổng quan về các chức năng của Template trong AngularJS.
" />

<meta property="og:title" content="Template trong AngularJS" />
<meta property="og:type" content="article" />
<meta property="og:image" content="/sharer.png" />
<meta property="og:url" content="/javascript/angularjs/2014/10/23/template-trong-angularjs.html" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Template trong AngularJS" />
<meta name="twitter:image" content="/sharer.png" />
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/monokai.css">
    </head>
    <body class="wrap">
      <!--[if lt IE 8]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->
      <header>
  <h1 class="site-title"><a href="/">Dong Diem Thuy's Blog</a></h1>
  <nav class="main-nav">
    <div class="grid">
      <ul>
        <li><a href="/">Home</a></li>
        
      </ul>
    </div>
  </nav>
</header>
      <section class="content">
        <div id="home" class="grid post">
<div class="unit whole">
<article>
	<header>
		<h1>Template trong AngularJS</h1>
		<p class="meta">
			<time class="timeago postlist-meta" datetime="2014-10-23">October 23, 2014</time>
			<a class="button blue share" href="#" target="_blank" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+window.location.href,'_blank','height=300,width=600');return false;">Share on fb
			</a>
			
				<a class="button blue share" href="#" target="_blank" onclick="window.open('https://twitter.com/share?url='+window.location.href,'_blank','height=300,width=600');return false;">Share on twitter
				</a>
			
		</p>
	</header>
	<section>
		<p>Template trong AngularJS, cho phép phân rã mã lệnh HTML phức tạp, hay trùng lặp của View thành những đoạn nhỏ thuận tiện cho việc chỉnh sửa cũng như phát triển. Ngoài ra, Template đóng vai trò là một trong các thành phần (cùng với Path và Controller) của khai báo Route trong AngularJS. Bài viết này sẽ giới thiệu tổng quan về các chức năng của Template trong AngularJS.</p>

<h3>Giới thiệu về template trong AngularJS</h3>

<p>Trong AngularJS, <a href="https://docs.angularjs.org/guide/templates">Template</a> được viết bằng HTML, trong đó có thể chứa các phần tử, thuộc tính của AngularJS như các Directive, Markup, Filter, Form control.
AngularJS kết hợp với Template, cùng với các thông tin lấy từ Model và Controller để hiển thị kết quả cho người dùng trên trình duyệt.
Trong Template có thể chứa:</p>

<ul>
<li>Directive: </li>
<li>Markup: các ký hiệu  để gắn kết biểu thức với các phần tử.</li>
<li>Filter: định dạng dữ liệu.</li>
<li>Form control: kiểm tra tính hợp lệ dữ liệu do người dùng nhập vào.</li>
</ul>

<p>Ở những ứng dụng đơn giản thì Template gồm HTML, CSS, directive có thể nằm trong một trang HTML nhưng với những ứng dụng lớn, để có thể hiển thị nhiều lần trong một trang duy nhất thì phải sử dụng các phân đoạn Template được lưu trong các trang HTML riêng biệt. Bạn có thể dùng chỉ thị ng-view để tải các &quot;phân đoạn&quot; thông qua các $route.</p>

<p>Trong AngularJS có 2 cách thông dụng để đưa Template vào View đó là sử dụng ng-include và ngRoute.</p>

<p>Thay vì để Template tại vị trí nào đó trên giao diện chính thì AngularJS có thể định nghĩa Template trong 1 thẻ script. Sau đó chỉ cần dùng chỉ thị ng-include với id của template tại vị trí trên giao diện chính. Ví dụ: </p>

<p>File person.html</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">body</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">app</span><span class="o">=</span><span class="s2">"myApp"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/ng-template"</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"person.html"</span><span class="o">&gt;</span>
             <span class="p">{{</span><span class="nx">person</span><span class="p">.</span><span class="nx">first</span><span class="p">}}</span>  <span class="p">,</span> 
             <span class="p">{{</span><span class="nx">person</span><span class="p">.</span><span class="nx">middle</span><span class="p">}}</span>  <span class="p">,</span>
             <span class="p">{{</span><span class="nx">person</span><span class="p">.</span><span class="nx">last</span><span class="p">}}</span>   
    <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">controller</span><span class="o">=</span><span class="s2">"PersonCtrl"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">repeat</span><span class="o">=</span><span class="s2">"person in persons"</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">include</span><span class="o">=</span><span class="s2">"'person.html'"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span> <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/body&gt;</span></code></pre></div>

<p>Trong đó ng-repeat= &quot;person in persons&quot; là chỉ thị lặp trong AngularJS. Các biểu thức  {{person.first}} , {{person.middle}} , {{person.last}}  sẽ được thay thế bởi giá trị của biểu thức. Các biểu thức này nằm trong PersonCtrl khai báo ở app.js.</p>

<p>File app.js</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myApp</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">"myApp"</span><span class="p">,[]);</span>
<span class="nx">myApp</span><span class="p">.</span><span class="nx">controller</span> <span class="p">(</span><span class="s1">'PersonCtrl'</span><span class="p">,[</span><span class="s1">'$scope'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">persons</span> <span class="o">=</span> <span class="p">[</span>
                     <span class="p">{</span><span class="na">first</span><span class="p">:</span> <span class="s2">"Mary"</span><span class="p">,</span> <span class="na">middle</span><span class="p">:</span> <span class="s2">"Jar"</span><span class="p">,</span> <span class="na">last</span><span class="p">:</span> <span class="s2">"Kenny"</span><span class="p">},</span>
                     <span class="p">{</span><span class="na">first</span><span class="p">:</span> <span class="s2">"Lulu"</span><span class="p">,</span> <span class="na">middle</span><span class="p">:</span> <span class="s2">"Hanal"</span><span class="p">,</span> <span class="na">last</span><span class="p">:</span> <span class="s2">"Opal"</span><span class="p">},</span>
                     <span class="p">{</span><span class="na">first</span><span class="p">:</span> <span class="s2">"David"</span><span class="p">,</span> <span class="na">middle</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span> <span class="na">last</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">},</span>
                     <span class="p">{</span><span class="na">first</span><span class="p">:</span> <span class="s2">"Ryan"</span><span class="p">,</span> <span class="na">middle</span><span class="p">:</span> <span class="s2">"Scoth"</span><span class="p">,</span> <span class="na">last</span><span class="p">:</span> <span class="s2">"Bead"</span><span class="p">},</span>
                     <span class="p">];</span>
<span class="p">}]);</span></code></pre></div>

<p>Kết quả: </p>

<p><img src="/img/template-trong-angularjs/template.png" alt="Hình 1. Kết quả chạy chương trình"></p>

<h3>View và Template</h3>

<p>Trong AngularJS, View được xem như thể hiện của Model thông qua các HTML Template. Có nghĩa là bất kì Model nào thay đổi thì AngularJS sẽ làm mới và cập nhật lại View.</p>

<p><img src="/img/template-trong-angularjs/ViewTemplate.png" alt="Hình 1. Kết quả chạy chương trình"></p>

<h3>Multiple Views, Routing and Layout Template</h3>

<p>Các route trong AngularJS được khai báo thông qua <a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider">$routeProvider</a>. Ví dụ sau đây sẽ minh họa sự kết hợp của Views, Routing và Layout Template.</p>

<p>Ví dụ minh họa hiển thị một Danh sách gồm Home, About, Contact, khi người dùng nhấn link chọn thì sẽ hiển thị nội dung của từng mục Home, About, Contact.</p>

<p>File index.html</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span> <span class="nx">lang</span><span class="o">=</span><span class="s2">"en"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Template</span> <span class="o">&lt;</span><span class="sr">/title</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
            <span class="nx">body</span> <span class="p">{</span>
                <span class="nx">padding</span><span class="o">-</span><span class="nx">top</span><span class="err">:</span> <span class="mi">10</span><span class="nx">px</span><span class="p">;</span>
                <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="err">:</span> <span class="err">#</span><span class="nx">F5F5F5</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;</span><span class="sr">/style</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">body</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">app</span><span class="o">=</span><span class="s2">"sampleApp"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"#Home"</span><span class="o">&gt;</span> <span class="nx">Home</span> <span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"#About"</span><span class="o">&gt;</span> <span class="nx">About</span> <span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"#Contact"</span><span class="o">&gt;</span> <span class="nx">Contact</span> <span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">view</span><span class="o">&gt;&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"http://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"js/app.js"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html&gt;</span></code></pre></div>

<p>Trong đó ng-view là chỉ thị được thêm vào $route service bao gồm các template hiện tại đã được bố trí vào các layout ở index.html. Khi route thay đổi thì view thay đổi theo kèm theo các cấu hình của $route service. Nghĩa là ứng với đường dẫn route đến Home hay About thì sẽ hiển thị view ở trang đó lên màn hình.</p>

<p>File app.js</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myApp</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'myApp'</span><span class="p">,</span> <span class="p">[]);</span>

<span class="nx">myApp</span><span class="p">.</span><span class="nx">config</span><span class="p">([</span><span class="s1">'$routeProvider'</span><span class="p">,</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">$routeProvider</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$routeProvider</span><span class="p">.</span>
                <span class="nx">when</span><span class="p">(</span><span class="s1">'/Home'</span><span class="p">,</span> <span class="p">{</span>
                    <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'templates/home.html'</span><span class="p">,</span>
                    <span class="na">controller</span><span class="p">:</span> <span class="s1">'HomeController'</span>
                <span class="p">}).</span>
                <span class="nx">when</span><span class="p">(</span><span class="s1">'/About'</span><span class="p">,</span> <span class="p">{</span>
                    <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'templates/about.html'</span><span class="p">,</span>
                    <span class="na">controller</span><span class="p">:</span> <span class="s1">'AboutController'</span>
                <span class="p">}).</span>
                <span class="nx">when</span><span class="p">(</span><span class="s1">'/Contact'</span><span class="p">,</span> <span class="p">{</span>
                    <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'templates/contact.html'</span><span class="p">,</span>
                    <span class="na">controller</span><span class="p">:</span> <span class="s1">'ContactController'</span>
                <span class="p">}).</span>
                <span class="nx">otherwise</span><span class="p">({</span>
                    <span class="na">redirectTo</span><span class="p">:</span> <span class="s1">'/Home'</span>
                <span class="p">});</span>
    <span class="p">}]);</span>
<span class="nx">myApp</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'HomeController'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">messageHome</span> <span class="o">=</span> <span class="s1">'This is Home screen'</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">myApp</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'AboutController'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">$scope</span><span class="p">.</span><span class="nx">messageAbout</span> <span class="o">=</span> <span class="s1">'This is About screen'</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">myApp</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'ContactController'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">messageContact</span> <span class="o">=</span> <span class="s1">'This is Contact screen'</span><span class="p">;</span>
<span class="p">});</span></code></pre></div>

<h3>Cú pháp để thêm routing và hiển thị</h3>

<p>Ta gọi hàm config() để có được $routeProvider. Các $routeProvider cung cấp các phương thức .when() để xác đinh các routing cho ứng dụng, phương thức .otherwise() để xác định routing mặc định. </p>

<p>Trong đoạn mã trên định nghĩa 3 url là /home, /about, /contact với các template tương ứng là templates/home.html, templates/about.html, templates/contact.html.</p>

<p>Khi mở index.html#/Home trên trình duyệt thì AngularJS tự động chuyển đến route mà ta đã cấu hình trước đó và tải lên home.html và gọi HomeController để hiện thị nội dung. Tương tự cho About và Contact.</p>

<p>File Templates/home.html</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>        <span class="p">{{</span> <span class="nx">messageHome</span> <span class="p">}}</span> 
    <span class="o">&lt;</span><span class="sr">/body&gt;</span></code></pre></div>

<p>Các file about.html, contact.html tương tự như trên.</p>

<p>Kết quả của ví dụ:</p>

<p><img src="/img/template-trong-angularjs/result.png" alt="Hình 1. Kết quả chạy chương trình"></p>

<iframe src="http://embed.plnkr.co/hZ9IV4BOLHGD1IMDJoep/preview" style="border:0px #FFFFFF none;" name="template" scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="200%" width="100%"></iframe>

<p>Bài viết này giới thiệu Template trong AngularJS với mục đích dùng Template để tránh việc lặp đi lặp lại dữ liệu giống nhau. Để làm được việc này ta tách View thành các template riêng lẻ rồi sau đó dùng chỉ thị ng-include để đưa template vào View hiển thị cho người dùng. Ngoài ra Template còn được sử dụng như một thành phần trong định nghĩa $route bên trong khai báo $routeProvider.</p>

<h2>Tài liệu tham khảo</h2>

<ul>
<li><a href="https://docs.angularjs.org/guide/templates">Templates</a></li>
<li><a href="http://lostechies.com/gabrielschenker/2013/12/28/angularjspart-6-templates/">AngularJS–Part 6-Templates</a></li>
<li><a href="https://docs.angularjs.org/tutorial/step_07">Routing &amp; Multiple Views</a></li>
</ul>

<p>Các bạn có thể tải mã nguồn của ví dụ <a href="http://plnkr.co/edit/hZ9IV4BOLHGD1IMDJoep?p=preview">Multiple Views, Routing and Layout Template</a> để chạy thử.</p>

	</section>
	<footer>
		
	</footer>
</article>
</div>
</div>
      </section>
      <footer class="grid site-footer">
        <p>&copy;&nbsp;Dong Diem Thuy's Blog</p>
        <p><small>Powered by <a href="http://jekyllrb.com" target="_blank"><em>Jekyll</em></a> using <a href="http://bitwiser.in/bitwiser/" target="_blank"><em>Bitwiser</em></a> theme.</small></p>
      </footer>
      
      <script src="/js/headroom.min.js"></script>
      <script>
        var menu, headroom;
        function stickyHeader(){
          menu = document.querySelector('.main-nav');
          var headroom = new Headroom(menu);
          headroom.init();
        }
        window.onload = stickyHeader;
      </script>
    </body>
</html>
